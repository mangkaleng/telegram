

console.log("");
console.log("");

const functionGetMessages = (email, domain) =>
  new Promise((resolve, reject) => {});

const functionVerification = (email, token) =>
  new Promise((resolve, reject) => {
    const params = new URLSearchParams();
    
const functionGetLocation = domain =>
  new Promise((resolve, reject) => {
    moment().format("HH:mm:ss") + " " + "]" + " " + "MEMULAI ...."
  );
  await fss.readFile(file, async function(err, data) {
     regexEm.exec(getLocation);

        await delay(DelaY);
        const veryf = await functionVerification(resGexEm[0], resGex[1]);
        console.log(veryf);

        // const msg = JSON.parse(veryf).error.status;

        // if (JSON.parse(veryf).hasOwnProperty("error")) {
        //   console.log(
        //     "[" +
        //       " " +
        //       moment().format("HH:mm:ss") +
        //       " " +
        //       "]" +
        //       " " +
        //       `Email : ${resGexEm[0]}` +
        //       " " +
        //       "Token Expired"
        //   );
        // } else {
        //   console.log(
        //     "[" +
        //       " " +
        //       moment().format("HH:mm:ss") +
        //       " " +
        //       "]" +
        //       " " +
        //       `Email : ${resGexEm[0]}` +
        //       " " +
        //       "Veryf Sukses"
        //   );
        // }
      } else {
        const decodeURL = await decodeURIComponent(array[ury]);

        const regex = await new RegExp(/\?(?:code)\=([\S\s]*?)\&/);
        const regexEm = await new RegExp(
          /([\w.%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4})/
        );
        const resGex = await regex.exec(decodeURL);
        const resGexEm = await regexEm.exec(decodeURL);

        await delay(DelaY);
        const veryf = await functionVerification(resGexEm[0], resGex[1]);
        console.log(veryf);
        // const msg = JSON.parse(veryf).error.status;

        // if (JSON.parse(veryf).hasOwnProperty("error")) {
        //   console.log(
        //     "[" +
        //       " " +
        //       moment().format("HH:mm:ss") +
        //       " " +
        //       "]" +
        //       " " +
        //       `Email : ${resGexEm[0]}` +
        //       " " +
        //       "Token Expired"
        //   );
        // } else {
        //   console.log(
        //     "[" +
        //       " " +
        //       moment().format("HH:mm:ss") +
        //       " " +
        //       "]" +
        //       " " +
        //       `Email : ${resGexEm}` +
        //       " " +
        //       "Veryf Sukses"
        //   );
        // }
      }
    }
  });
})();
